{
  "id": "45a5ce60-5c9d-4075-82a7-d3fa9284f22a",
  "flow": [
    {
      "implementor.name": "com.esb.plugin.fixture.ComponentNode1"
    },
    {
      "implementor.name": "com.esb.component.Choice",
      "when": [
        {
          "condition": "payload.name == 'Mark'",
          "next": [
            {
              "implementor.name": "com.esb.plugin.fixture.ComponentNode2"
            }
          ]
        },
        {
          "condition": "payload.name == 'John'",
          "next": [
            {
              "implementor.name": "com.esb.component.FlowReference",
              "ref": "11a2ce60-5c9d-4075-82a7-f1fa1111f999"
            }
          ]
        }
      ],
      "otherwise": [
        {
          "implementor.name": "com.esb.component.Fork",
          "threadPoolSize": 3,
          "fork": [
            {
              "next": [
                {
                  "implementor.name": "com.esb.plugin.fixture.ComponentNode3"
                }
              ]
            },
            {
              "next": [
                {
                  "implementor.name": "com.esb.plugin.fixture.ComponentNode4"
                }
              ]
            }
          ],
          "join": {
            "implementor.name": "com.esb.plugin.fixture.ComponentNode5"
          }
        }
      ]
    },
    {
      "implementor.name": "com.esb.plugin.fixture.ComponentNode6"
    }
  ]
}